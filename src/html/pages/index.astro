---
import Head from "@components/_head.astro"
import Scripts from "@components/_scripts.astro"

const title = "AdminLTE 4 | Login Page"
const path = "../../dist"
---

<!doctype html>
<html lang="en">
  <!--begin::Head-->
  <head>
    <Head title={title} path={path} />
  </head>
  <!--end::Head-->
  <!--begin::Body-->
  <body class="login-page bg-body-secondary">
    <div class="login-box">
      <div class="login-logo">
        <a href="https://suite.com.co/">
          <img src={path + "/assets/img/logo_st.png"} alt="Suite Logo" style="max-width: 100%; height: auto;">
        </a>
      </div>
      <!-- /.login-logo -->
      <div class="card">
        <div class="card-body login-card-body">
          <p class="login-box-msg">Inicie sesión para comenzar</p>

          <form id="loginForm">
            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="Usuario" id="username" required>
              <div class="input-group-text">
                <span class="bi bi-envelope"></span>
              </div>
            </div>
            <div class="input-group mb-3">
              <input type="password" class="form-control" placeholder="Contraseña" id="password" required>
              <div class="input-group-text">
                <span class="bi bi-lock-fill"></span>
              </div>
            </div>
            <div class="row">
              <div class="col-8">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                    Recuérdame
                  </label>
                </div>
              </div>
              <!-- /.col -->
              <div class="col-4">
                <div class="d-grid gap-2">
                  <button type="submit" class="btn btn-primary">Ingresar</button>
                </div>
              </div>
              <!-- /.col -->
            </div>
          </form>
          
          <div id="error-message" class="alert alert-danger mt-3 d-none" role="alert">
            Usuario o contraseña incorrectos.
          </div>

          <p class="mb-1 mt-3">
            <a href="forgot-password.html">Olvidé mi contraseña</a>
          </p>

        </div>
        <!-- /.login-card-body -->
      </div>
    </div>
    <!-- /.login-box -->

    <Scripts path={path} />
    
    <script is:inline>
      document.getElementById('loginForm').addEventListener('submit', function(event) {
        event.preventDefault();
        
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const errorMessage = document.getElementById('error-message');
        
        if ((username === 'admin' && password === 'admin') || (username === 'facturacion' && password === 'facturacion')) {
          // Success
          localStorage.setItem('authToken', 'true');
          localStorage.setItem('user', username);
          window.location.href = '/index2.html';
        } else {
          // Error
          errorMessage.classList.remove('d-none');
        }
      });
    </script>
  </body><!--end::Body-->
</html>
